---
name: broker-registrar
packages:
- cf-cli
templates:
  errand.sh.erb: bin/run

consumes:
- {name: redis_broker, type: redis_broker}

properties:
  cf.api_url:
    description: 'Full URL of Cloud Foundry API'
  cf.admin_username:
    description: 'Username of the admin user'
  cf.admin_password:
    description: 'Password of the admin user'
  cf.skip_ssl_validation:
    description: 'Skip SSL certificate validation'
    default: true

  redis.broker.enable_service_access:
    description: 'Enable service access to all orgs specified, default to allow all orgs access'
    default: true
  redis.broker.service_access_orgs:
    description: 'Limit your service to only be accessible by the given org.'
    default: []
